<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQL Analyzer Enterprise - Mobile Responsiveness Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #1f2937;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .header {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .test-section {
            background: white;
            margin-bottom: 2rem;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .section-header {
            background: #3b82f6;
            color: white;
            padding: 1rem 1.5rem;
            font-weight: 600;
        }
        
        .section-content {
            padding: 1.5rem;
        }
        
        .device-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .device-card {
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 1rem;
            background: #f9fafb;
        }
        
        .device-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .device-name {
            font-weight: 600;
            color: #1f2937;
        }
        
        .device-size {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .test-result {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            margin: 0.25rem 0.25rem 0.25rem 0;
        }
        
        .test-result.pass {
            background: #dcfce7;
            color: #166534;
        }
        
        .test-result.fail {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .test-result.warning {
            background: #fef3c7;
            color: #92400e;
        }
        
        .responsive-demo {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            margin: 1rem 0;
            overflow: hidden;
            background: white;
        }
        
        .demo-header {
            background: #f3f4f6;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            color: #6b7280;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .demo-content {
            padding: 1rem;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .demo-sidebar {
            background: #3b82f6;
            color: white;
            padding: 1rem;
            border-radius: 4px;
        }
        
        .demo-main {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 4px;
            flex: 1;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }
        
        .demo-card {
            background: white;
            padding: 1rem;
            border-radius: 4px;
            border: 1px solid #e5e7eb;
            text-align: center;
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background-color 0.2s;
        }
        
        button:hover {
            background: #2563eb;
        }
        
        button.active {
            background: #1d4ed8;
        }
        
        .results-summary {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 6px;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        .log {
            background: #1f2937;
            color: #e5e7eb;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 1rem;
        }
        
        /* Responsive breakpoints for testing */
        @media (max-width: 1200px) {
            .container { padding: 0.75rem; }
            .device-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        }
        
        @media (max-width: 768px) {
            .header { padding: 1.5rem 1rem; }
            .section-content { padding: 1rem; }
            .device-grid { grid-template-columns: 1fr; }
            .controls { flex-direction: column; }
            .demo-content { padding: 0.75rem; }
        }
        
        @media (max-width: 480px) {
            .container { padding: 0.5rem; }
            .header { padding: 1rem 0.75rem; }
            .section-header { padding: 0.75rem 1rem; }
            .section-content { padding: 0.75rem; }
            .demo-grid { grid-template-columns: 1fr; }
        }
        
        @media (max-width: 320px) {
            .header h1 { font-size: 1.25rem; }
            .section-header { font-size: 0.875rem; }
            .demo-content { padding: 0.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üì± SQL Analyzer Enterprise</h1>
            <h2>Mobile Responsiveness Test</h2>
            <p>Comprehensive testing of responsive design across all device sizes</p>
            <div id="currentViewport" style="margin-top: 1rem; font-size: 0.875rem; color: #6b7280;"></div>
        </div>

        <div class="test-section">
            <div class="section-header">
                üìè Device Breakpoint Testing
            </div>
            <div class="section-content">
                <div class="controls">
                    <button onclick="testBreakpoint('mobile', 320)">Mobile (320px)</button>
                    <button onclick="testBreakpoint('mobile-large', 480)">Mobile Large (480px)</button>
                    <button onclick="testBreakpoint('tablet', 768)">Tablet (768px)</button>
                    <button onclick="testBreakpoint('desktop', 1024)">Desktop (1024px)</button>
                    <button onclick="testBreakpoint('desktop-large', 1200)">Desktop Large (1200px)</button>
                    <button onclick="testAllBreakpoints()">Test All</button>
                </div>
                
                <div id="breakpointResults"></div>
            </div>
        </div>

        <div class="test-section">
            <div class="section-header">
                üé® Layout Responsiveness Demo
            </div>
            <div class="section-content">
                <div class="responsive-demo">
                    <div class="demo-header">
                        <span>SQL Analyzer Interface Preview</span>
                        <span id="demoSize"></span>
                    </div>
                    <div class="demo-content">
                        <div class="demo-sidebar">
                            <h4>Navigation</h4>
                            <ul style="list-style: none; padding: 0; margin: 0.5rem 0;">
                                <li style="padding: 0.25rem 0;">üìä Dashboard</li>
                                <li style="padding: 0.25rem 0;">üîç Analysis</li>
                                <li style="padding: 0.25rem 0;">üìÅ Files</li>
                                <li style="padding: 0.25rem 0;">‚öôÔ∏è Settings</li>
                            </ul>
                        </div>
                        <div class="demo-main">
                            <h4>Main Content Area</h4>
                            <div class="demo-grid">
                                <div class="demo-card">
                                    <h5>Analysis</h5>
                                    <p>SQL Query Analysis</p>
                                </div>
                                <div class="demo-card">
                                    <h5>Results</h5>
                                    <p>Performance Metrics</p>
                                </div>
                                <div class="demo-card">
                                    <h5>Export</h5>
                                    <p>Download Options</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <div class="section-header">
                üîç Feature Compatibility Testing
            </div>
            <div class="section-content">
                <div class="controls">
                    <button onclick="testTouchFeatures()">Touch Features</button>
                    <button onclick="testOrientationFeatures()">Orientation</button>
                    <button onclick="testViewportFeatures()">Viewport</button>
                    <button onclick="testAccessibilityFeatures()">Accessibility</button>
                </div>
                
                <div id="featureResults"></div>
            </div>
        </div>

        <div class="test-section">
            <div class="section-header">
                üìä Performance on Mobile
            </div>
            <div class="section-content">
                <div class="controls">
                    <button onclick="testMobilePerformance()">Test Performance</button>
                    <button onclick="testNetworkConditions()">Network Conditions</button>
                </div>
                
                <div id="performanceResults"></div>
            </div>
        </div>

        <div class="results-summary" id="summary" style="display: none;">
            <h3>üìä Responsiveness Summary</h3>
            <div id="summaryContent"></div>
        </div>

        <div class="log" id="testLog" style="display: none;"></div>
    </div>

    <script>
        let testResults = [];
        let logMessages = [];

        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            const logMessage = `[${timestamp}] ${message}`;
            logMessages.push(logMessage);
            
            const logElement = document.getElementById('testLog');
            logElement.style.display = 'block';
            logElement.innerHTML = logMessages.join('\n');
            logElement.scrollTop = logElement.scrollHeight;
        }

        function addResult(category, test, passed, message = '') {
            testResults.push({ category, test, passed, message });
            log(`${category} - ${test}: ${passed ? 'PASS' : 'FAIL'} ${message}`);
        }

        function updateViewportInfo() {
            const viewport = document.getElementById('currentViewport');
            const width = window.innerWidth;
            const height = window.innerHeight;
            const deviceType = getDeviceType(width);
            
            viewport.innerHTML = `Current Viewport: ${width}x${height}px (${deviceType})`;
            
            const demoSize = document.getElementById('demoSize');
            if (demoSize) {
                demoSize.textContent = `${width}x${height}px`;
            }
        }

        function getDeviceType(width) {
            if (width <= 320) return 'Mobile Small';
            if (width <= 480) return 'Mobile';
            if (width <= 768) return 'Tablet';
            if (width <= 1024) return 'Desktop';
            return 'Desktop Large';
        }

        function testBreakpoint(deviceType, width) {
            log(`Testing ${deviceType} breakpoint (${width}px)...`);
            
            // Simulate different viewport sizes
            const currentWidth = window.innerWidth;
            const results = [];
            
            // Test if current viewport matches expected behavior
            const isCorrectSize = currentWidth <= width + 50 && currentWidth >= width - 50;
            
            // Test CSS media queries
            const mediaQuery = window.matchMedia(`(max-width: ${width}px)`);
            const mediaQueryWorks = mediaQuery.matches === (currentWidth <= width);
            
            addResult('Breakpoints', `${deviceType} Media Query`, mediaQueryWorks);
            results.push({ test: `${deviceType} Media Query`, passed: mediaQueryWorks });
            
            // Test layout adaptation
            const container = document.querySelector('.container');
            const containerStyle = window.getComputedStyle(container);
            const hasResponsivePadding = parseFloat(containerStyle.padding) > 0;
            
            addResult('Breakpoints', `${deviceType} Layout`, hasResponsivePadding);
            results.push({ test: `${deviceType} Layout`, passed: hasResponsivePadding });
            
            displayResults('breakpointResults', results);
            updateSummary();
        }

        function testAllBreakpoints() {
            log('Testing all breakpoints...');
            
            const breakpoints = [
                { name: 'mobile', width: 320 },
                { name: 'mobile-large', width: 480 },
                { name: 'tablet', width: 768 },
                { name: 'desktop', width: 1024 },
                { name: 'desktop-large', width: 1200 }
            ];
            
            breakpoints.forEach(bp => {
                setTimeout(() => testBreakpoint(bp.name, bp.width), 100);
            });
        }

        function testTouchFeatures() {
            log('Testing touch features...');
            const results = [];
            
            // Touch events support
            const touchSupport = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            addResult('Touch', 'Touch Events', touchSupport);
            results.push({ test: 'Touch Events', passed: touchSupport });
            
            // Pointer events
            const pointerSupport = 'onpointerdown' in window;
            addResult('Touch', 'Pointer Events', pointerSupport);
            results.push({ test: 'Pointer Events', passed: pointerSupport });
            
            // Touch action CSS
            const touchActionSupport = CSS.supports('touch-action', 'manipulation');
            addResult('Touch', 'Touch Action CSS', touchActionSupport);
            results.push({ test: 'Touch Action CSS', passed: touchActionSupport });
            
            displayResults('featureResults', results);
            updateSummary();
        }

        function testOrientationFeatures() {
            log('Testing orientation features...');
            const results = [];
            
            // Orientation API
            const orientationSupport = 'orientation' in window || 'screen' in window && 'orientation' in screen;
            addResult('Orientation', 'Orientation API', orientationSupport);
            results.push({ test: 'Orientation API', passed: orientationSupport });
            
            // Orientation media queries
            const portraitQuery = window.matchMedia('(orientation: portrait)');
            const landscapeQuery = window.matchMedia('(orientation: landscape)');
            const orientationQuerySupport = portraitQuery.matches || landscapeQuery.matches;
            
            addResult('Orientation', 'Orientation Media Queries', orientationQuerySupport);
            results.push({ test: 'Orientation Media Queries', passed: orientationQuerySupport });
            
            displayResults('featureResults', results);
            updateSummary();
        }

        function testViewportFeatures() {
            log('Testing viewport features...');
            const results = [];
            
            // Viewport meta tag
            const viewportMeta = document.querySelector('meta[name="viewport"]');
            const hasViewportMeta = viewportMeta !== null;
            addResult('Viewport', 'Viewport Meta Tag', hasViewportMeta);
            results.push({ test: 'Viewport Meta Tag', passed: hasViewportMeta });
            
            // Device pixel ratio
            const pixelRatio = window.devicePixelRatio || 1;
            const hasPixelRatio = pixelRatio > 0;
            addResult('Viewport', 'Device Pixel Ratio', hasPixelRatio, `Ratio: ${pixelRatio}`);
            results.push({ test: 'Device Pixel Ratio', passed: hasPixelRatio, message: `Ratio: ${pixelRatio}` });
            
            // Visual viewport API
            const visualViewportSupport = 'visualViewport' in window;
            addResult('Viewport', 'Visual Viewport API', visualViewportSupport);
            results.push({ test: 'Visual Viewport API', passed: visualViewportSupport });
            
            displayResults('featureResults', results);
            updateSummary();
        }

        function testAccessibilityFeatures() {
            log('Testing accessibility features...');
            const results = [];
            
            // Focus management
            const focusSupport = 'focus' in document.createElement('div');
            addResult('Accessibility', 'Focus Management', focusSupport);
            results.push({ test: 'Focus Management', passed: focusSupport });
            
            // ARIA support
            const ariaSupport = 'setAttribute' in document.createElement('div');
            addResult('Accessibility', 'ARIA Support', ariaSupport);
            results.push({ test: 'ARIA Support', passed: ariaSupport });
            
            // High contrast media query
            const highContrastSupport = window.matchMedia('(prefers-contrast: high)').media !== 'not all';
            addResult('Accessibility', 'High Contrast Detection', highContrastSupport);
            results.push({ test: 'High Contrast Detection', passed: highContrastSupport });
            
            // Reduced motion
            const reducedMotionSupport = window.matchMedia('(prefers-reduced-motion: reduce)').media !== 'not all';
            addResult('Accessibility', 'Reduced Motion Detection', reducedMotionSupport);
            results.push({ test: 'Reduced Motion Detection', passed: reducedMotionSupport });
            
            displayResults('featureResults', results);
            updateSummary();
        }

        function testMobilePerformance() {
            log('Testing mobile performance...');
            const results = [];
            
            // Performance API
            const performanceSupport = 'performance' in window;
            addResult('Performance', 'Performance API', performanceSupport);
            results.push({ test: 'Performance API', passed: performanceSupport });
            
            if (performanceSupport) {
                // Navigation timing
                const navTiming = performance.getEntriesByType('navigation')[0];
                if (navTiming) {
                    const loadTime = navTiming.loadEventEnd - navTiming.navigationStart;
                    const fastLoad = loadTime < 3000; // 3 seconds
                    addResult('Performance', 'Page Load Time', fastLoad, `${loadTime}ms`);
                    results.push({ test: 'Page Load Time', passed: fastLoad, message: `${loadTime}ms` });
                }
                
                // Memory usage (if available)
                if ('memory' in performance) {
                    const memoryInfo = performance.memory;
                    const memoryEfficient = memoryInfo.usedJSHeapSize < 50 * 1024 * 1024; // 50MB
                    addResult('Performance', 'Memory Usage', memoryEfficient, `${Math.round(memoryInfo.usedJSHeapSize / 1024 / 1024)}MB`);
                    results.push({ test: 'Memory Usage', passed: memoryEfficient, message: `${Math.round(memoryInfo.usedJSHeapSize / 1024 / 1024)}MB` });
                }
            }
            
            displayResults('performanceResults', results);
            updateSummary();
        }

        function testNetworkConditions() {
            log('Testing network conditions...');
            const results = [];
            
            // Network Information API
            const networkSupport = 'connection' in navigator;
            addResult('Network', 'Network Information API', networkSupport);
            results.push({ test: 'Network Information API', passed: networkSupport });
            
            if (networkSupport) {
                const connection = navigator.connection;
                const effectiveType = connection.effectiveType;
                const downlink = connection.downlink;
                
                addResult('Network', 'Connection Type', true, effectiveType);
                results.push({ test: 'Connection Type', passed: true, message: effectiveType });
                
                addResult('Network', 'Downlink Speed', true, `${downlink} Mbps`);
                results.push({ test: 'Downlink Speed', passed: true, message: `${downlink} Mbps` });
            }
            
            // Online/offline detection
            const onlineSupport = 'onLine' in navigator;
            addResult('Network', 'Online Detection', onlineSupport, navigator.onLine ? 'Online' : 'Offline');
            results.push({ test: 'Online Detection', passed: onlineSupport, message: navigator.onLine ? 'Online' : 'Offline' });
            
            displayResults('performanceResults', results);
            updateSummary();
        }

        function displayResults(containerId, results) {
            const container = document.getElementById(containerId);
            container.innerHTML = results.map(result => 
                `<div style="margin: 0.5rem 0;">
                    ${result.test} 
                    <span class="test-result ${result.passed ? 'pass' : 'fail'}">
                        ${result.passed ? 'PASS' : 'FAIL'}
                    </span>
                    ${result.message ? `<span style="color: #6b7280; font-size: 0.875rem;"> - ${result.message}</span>` : ''}
                </div>`
            ).join('');
        }

        function updateSummary() {
            const summary = document.getElementById('summary');
            const summaryContent = document.getElementById('summaryContent');
            
            if (testResults.length === 0) return;

            const totalTests = testResults.length;
            const passedTests = testResults.filter(r => r.passed).length;
            const failedTests = totalTests - passedTests;
            const successRate = (passedTests / totalTests * 100).toFixed(1);

            const categories = [...new Set(testResults.map(r => r.category))];
            const categoryStats = categories.map(category => {
                const categoryTests = testResults.filter(r => r.category === category);
                const categoryPassed = categoryTests.filter(r => r.passed).length;
                const categoryTotal = categoryTests.length;
                const categoryRate = (categoryPassed / categoryTotal * 100).toFixed(1);
                
                return { category, passed: categoryPassed, total: categoryTotal, rate: categoryRate };
            });

            summaryContent.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                    <div style="padding: 1rem; background: white; border-radius: 6px; border: 1px solid #e5e7eb;">
                        <h4>Overall Results</h4>
                        <p><strong>Total Tests:</strong> ${totalTests}</p>
                        <p><strong>Passed:</strong> ${passedTests}</p>
                        <p><strong>Failed:</strong> ${failedTests}</p>
                        <p><strong>Success Rate:</strong> ${successRate}%</p>
                    </div>
                    ${categoryStats.map(stat => `
                        <div style="padding: 1rem; background: white; border-radius: 6px; border: 1px solid #e5e7eb;">
                            <h4>${stat.category}</h4>
                            <p><strong>Tests:</strong> ${stat.passed}/${stat.total}</p>
                            <p><strong>Success Rate:</strong> ${stat.rate}%</p>
                        </div>
                    `).join('')}
                </div>
                
                <div style="margin-top: 1rem; padding: 1rem; background: white; border-radius: 6px; border: 1px solid #e5e7eb;">
                    <h4>Mobile Responsiveness: ${successRate >= 90 ? '‚úÖ Excellent' : successRate >= 75 ? '‚ö†Ô∏è Good' : '‚ùå Needs Attention'}</h4>
                    <p>The SQL Analyzer Enterprise application ${successRate >= 90 ? 'fully supports' : successRate >= 75 ? 'mostly supports' : 'has limited support for'} mobile devices and responsive design.</p>
                </div>
            `;

            summary.style.display = 'block';
        }

        // Initialize and set up event listeners
        document.addEventListener('DOMContentLoaded', function() {
            updateViewportInfo();
            log('Mobile responsiveness test initialized');
        });

        window.addEventListener('resize', updateViewportInfo);
        window.addEventListener('orientationchange', function() {
            setTimeout(updateViewportInfo, 100);
        });
    </script>
</body>
</html>
