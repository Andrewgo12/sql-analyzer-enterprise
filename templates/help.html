{% extends "base.html" %}

{% block title %}Help - SQL Analyzer Enterprise{% endblock %}
{% block page_title %}Help & Documentation{% endblock %}

{% block header_actions %}
    <button class="btn btn-primary" onclick="searchHelp()">
        üîç Buscar
    </button>
{% endblock %}

{% block content %}
<div class="help-container">
    <!-- Search -->
    <div class="card mb-3">
        <div class="card-content">
            <div style="display: flex; gap: 12px; align-items: center;">
                <input type="text" class="form-input" placeholder="Buscar en la documentaci√≥n..." style="flex: 1;">
                <button class="btn btn-primary">üîç Buscar</button>
            </div>
        </div>
    </div>

    <!-- Quick Start -->
    <div class="card">
        <div class="card-header">
            <div class="card-title">üöÄ Inicio R√°pido</div>
        </div>
        <div class="card-content">
            <h4>1. Subir un archivo SQL</h4>
            <p>Haz clic en "Subir Archivo SQL" o arrastra un archivo .sql a la zona de carga.</p>
            
            <h4>2. Seleccionar tipo de an√°lisis</h4>
            <p>Elige entre an√°lisis completo, escaneo de seguridad, optimizaci√≥n de rendimiento o an√°lisis de esquema.</p>
            
            <h4>3. Revisar resultados</h4>
            <p>Los resultados se mostrar√°n autom√°ticamente con recomendaciones y correcciones.</p>
            
            <h4>4. Exportar reportes</h4>
            <p>Descarga los resultados en m√°s de 50 formatos diferentes.</p>
        </div>
    </div>

    <!-- Features -->
    <div class="card">
        <div class="card-header">
            <div class="card-title">‚ú® Caracter√≠sticas Principales</div>
        </div>
        <div class="card-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div>
                    <h4>üìù SQL Analysis & Correction</h4>
                    <ul style="color: #a1a1aa; line-height: 1.8;">
                        <li>Detecci√≥n autom√°tica de errores de sintaxis</li>
                        <li>Correcci√≥n inteligente de consultas</li>
                        <li>Validaci√≥n de estructura SQL</li>
                        <li>Sugerencias de mejores pr√°cticas</li>
                    </ul>
                </div>
                
                <div>
                    <h4>üõ°Ô∏è Security Analysis</h4>
                    <ul style="color: #a1a1aa; line-height: 1.8;">
                        <li>Detecci√≥n de inyecci√≥n SQL</li>
                        <li>An√°lisis de vulnerabilidades</li>
                        <li>Verificaci√≥n de permisos</li>
                        <li>Cumplimiento OWASP Top 10</li>
                    </ul>
                </div>
                
                <div>
                    <h4>‚ö° Performance Optimization</h4>
                    <ul style="color: #a1a1aa; line-height: 1.8;">
                        <li>Optimizaci√≥n de consultas</li>
                        <li>Sugerencias de √≠ndices</li>
                        <li>An√°lisis de plan de ejecuci√≥n</li>
                        <li>Identificaci√≥n de cuellos de botella</li>
                    </ul>
                </div>
                
                <div>
                    <h4>üîó Schema Analysis</h4>
                    <ul style="color: #a1a1aa; line-height: 1.8;">
                        <li>An√°lisis de estructura de BD</li>
                        <li>Mapeo de relaciones</li>
                        <li>Verificaci√≥n de integridad</li>
                        <li>Sugerencias de normalizaci√≥n</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ -->
    <div class="card">
        <div class="card-header">
            <div class="card-title">‚ùì Preguntas Frecuentes</div>
        </div>
        <div class="card-content">
            <div style="display: flex; flex-direction: column; gap: 20px;">
                <div>
                    <h4>¬øQu√© tipos de archivos SQL son compatibles?</h4>
                    <p style="color: #a1a1aa;">Soportamos archivos .sql, .txt y cualquier archivo de texto plano que contenga c√≥digo SQL v√°lido.</p>
                </div>
                
                <div>
                    <h4>¬øCu√°l es el tama√±o m√°ximo de archivo?</h4>
                    <p style="color: #a1a1aa;">Por defecto, el l√≠mite es 100MB, pero puede configurarse en Settings hasta 1GB.</p>
                </div>
                
                <div>
                    <h4>¬øQu√© motores de base de datos son compatibles?</h4>
                    <p style="color: #a1a1aa;">Soportamos m√°s de 50 motores incluyendo MySQL, PostgreSQL, Oracle, SQL Server, SQLite, MongoDB y muchos m√°s.</p>
                </div>
                
                <div>
                    <h4>¬øLos an√°lisis se guardan autom√°ticamente?</h4>
                    <p style="color: #a1a1aa;">S√≠, todos los an√°lisis se guardan en el historial y pueden ser consultados en cualquier momento.</p>
                </div>
                
                <div>
                    <h4>¬øPuedo exportar los resultados?</h4>
                    <p style="color: #a1a1aa;">S√≠, ofrecemos m√°s de 50 formatos de exportaci√≥n incluyendo PDF, HTML, JSON, Excel, Word y muchos m√°s.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Keyboard Shortcuts -->
    <div class="card">
        <div class="card-header">
            <div class="card-title">‚å®Ô∏è Atajos de Teclado</div>
        </div>
        <div class="card-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
                <div style="display: flex; justify-content: space-between; padding: 8px; background: #1a1a1a; border-radius: 4px;">
                    <span>Subir archivo</span>
                    <code style="background: #262626; padding: 2px 6px; border-radius: 3px;">Ctrl + U</code>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 8px; background: #1a1a1a; border-radius: 4px;">
                    <span>Analizar</span>
                    <code style="background: #262626; padding: 2px 6px; border-radius: 3px;">Ctrl + Enter</code>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 8px; background: #1a1a1a; border-radius: 4px;">
                    <span>Exportar</span>
                    <code style="background: #262626; padding: 2px 6px; border-radius: 3px;">Ctrl + E</code>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 8px; background: #1a1a1a; border-radius: 4px;">
                    <span>Limpiar</span>
                    <code style="background: #262626; padding: 2px 6px; border-radius: 3px;">Ctrl + L</code>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 8px; background: #1a1a1a; border-radius: 4px;">
                    <span>Configuraci√≥n</span>
                    <code style="background: #262626; padding: 2px 6px; border-radius: 3px;">Ctrl + ,</code>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 8px; background: #1a1a1a; border-radius: 4px;">
                    <span>Ayuda</span>
                    <code style="background: #262626; padding: 2px 6px; border-radius: 3px;">F1</code>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact -->
    <div class="card">
        <div class="card-header">
            <div class="card-title">üìû Soporte y Contacto</div>
        </div>
        <div class="card-content">
            <p>¬øNecesitas ayuda adicional? Cont√°ctanos:</p>
            <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 16px;">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span>üìß</span>
                    <span>Email: support@sqlanalyzer.enterprise</span>
                </div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span>üí¨</span>
                    <span>Chat en vivo: Disponible 24/7</span>
                </div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span>üìö</span>
                    <span>Documentaci√≥n: docs.sqlanalyzer.enterprise</span>
                </div>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <span>üêõ</span>
                    <span>Reportar bugs: github.com/sqlanalyzer/issues</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function searchHelp() {
    const query = document.querySelector('input[placeholder="Buscar en la documentaci√≥n..."]').value;
    if (query.trim()) {
        showAlert(`Buscando: "${query}"...`, 'info');
        setTimeout(() => {
            showAlert('B√∫squeda completada', 'success');
        }, 1500);
    }
}

// Keyboard shortcuts
document.addEventListener('keydown', function(e) {
    if (e.ctrlKey) {
        switch(e.key) {
            case 'u':
                e.preventDefault();
                showAlert('Atajo: Subir archivo', 'info');
                break;
            case 'Enter':
                e.preventDefault();
                showAlert('Atajo: Analizar', 'info');
                break;
            case 'e':
                e.preventDefault();
                showAlert('Atajo: Exportar', 'info');
                break;
            case 'l':
                e.preventDefault();
                showAlert('Atajo: Limpiar', 'info');
                break;
            case ',':
                e.preventDefault();
                window.location.href = '/settings';
                break;
        }
    } else if (e.key === 'F1') {
        e.preventDefault();
        showAlert('Ya est√°s en la ayuda! üòä', 'info');
    }
});
</script>
{% endblock %}
